<div class="container hidden-xs">
  <div class="row">
    <div class="col-xs-12">
      <div id="featuredCarousel" class="featuredCarousel carousel slide">
        {% assign featuredPosts = include.featuredPosts %}
        {% assign maxPosts = include.maxPosts %}
        {% assign numPosts = featuredPosts | size %}
        {% if numPosts > maxPosts %}
          {% assign numPosts = maxPosts %}
        {% endif %}
        {% assign modulo = numPosts | minus: 1 | modulo: 5 %}
        {% assign count = numPosts | minus: modulo | divided_by: 5 %}
        <div class="carousel-inner">
          {% for i in (0..count) %}
            {% assign offset = i | times: 5 %}
            <div class="item {% if forloop.first %} active{% endif %}">
                {% for post in featuredPosts limit:5 offset: offset %}
                  {% include featured_carousel_cell.html post=post maximumTitleWords=3%}
                {% endfor %}
            </div>
          {% endfor %}

        </div>
        {% if numPosts > 5 %}
        <a class="left carousel-control" href="#featuredCarousel" data-slide="prev"><div class="arrow left"></div></a>
        <a class="right carousel-control" href="#featuredCarousel" data-slide="next"><div class="arrow right"></div></a>
        {% endif %}
      </div>
    </div>
  </div>
</div>
<div class="container full-screen visible-xs">
  <div class="row">
    <div class="col-xs-12">
      <div class="small-carousel carousel">
        {% assign showPostSummary = true %}
        {% for post in featuredPosts %}
            {% include featured_carousel_cell.html post=post maximumTitleWords=3%}
        {% endfor %}
      </div>
    </div>
  </div>
</div>
